{% extends 'base.html.twig' %}

{% block title %}Page {% endblock %}

{% block body %}
  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">

      <a href="{{path ('app_page_index_user')}}" class="logo d-flex align-items-center me-auto">
        <!-- Uncomment the line below if you also wish to use an image logo -->
  <img src="{{asset ('assets/img/4.png')}}" alt="" width="70" height="300">
        
        <h1 class="">CityVibe</h1>
      </a>

<nav id="navmenu" class="navmenu">
    <ul>
        <li><a href="{{ path('app_index') }}">Accueil</a></li>
        <li class="dropdown has-dropdown">
            <a href="#" class="active"><span>Lieu</span> <i class="bi bi-chevron-down"></i></a>
            <ul>
                <li><a href="{{ path('app_page_index_user') }}">Pages</a></li>
                <li><a href="{{ path('app_publication_index_user') }}">Publications</a></li>
            </ul>
        </li>
    </ul>
    <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
</nav>

<a class="btn-getstarted" href="{{path ('app_index')}}" style="background-color: green;">Mode Economique</a>

    </div>
  </header>

<main class="main">
    <section id="testimonials" class="testimonials section">
        <!-- Section Title -->
        <div class="container section-title" data-aos="fade-up">
            <h2>Consulter</h2>
            <p class="">Bienvenue a nos pages </p>
        </div><!-- End Section Title -->
<div class="col-md-4 mb-4">
    <form action="{{ path('app_page_index_user') }}" method="GET" class="search-form">
        <div class="input-group" style="margin-left: 110px;">
    <input type="text" name="q" class="form-control" placeholder="Rechercher..." style="border-radius: 30px; width: 200px;">
    <div class="input-group-append">
        <button type="submit" class="btn btn-orange" style="background-color: #F99D45; color: white; border-radius: 30px; margin-left: 20px; ">Rechercher</button>
    </div>
</div>

    </form>
</div>


        <div class="container" data-aos="fade-up" data-aos-delay="100">

            <div class="swiper">
                <script type="application/json" class="swiper-config">
                    {
                        "loop": true,
                        "speed": 600,
                        "autoplay": {
                            "delay": 5000
                        },
                        "slidesPerView": "auto",
                        "pagination": {
                            "el": ".swiper-pagination",
                            "type": "bullets",
                            "clickable": true
                        },
                        "breakpoints": {
                            "320": {
                                "slidesPerView": 1,
                                "spaceBetween": 40
                            },
                            "1200": {
                                "slidesPerView": 2,
                                "spaceBetween": 20
                            }
                        }
                    }
                </script>
                <div class="swiper-wrapper">
                    {% for page in pages %}
                    <div class="swiper-slide">
                        <div class="testimonial-wrap">
                            <div class="testimonial-item">
                                <img src="{{ asset(page.image) }}" alt="{{ page.nom }}" data-aos="fade-in" class="aos-init aos-animate" width="450" height="200" style="margin-left: -50px;">
                                <img src="{{ asset(page.logo) }}"  alt="Logo {{ page.nom }}" class="img-fluid rounded-circle mb-2"   width="100" height="50" style="margin-top: -20px;">
                                <h3 class="form-group-left" style="margin-top: -70px;margin-bottom:50px; margin-left: 120px;">{{ page.nom }}</h3>
                                <p><strong>utilisateur: </strong> {{ page.userRelation.nom }}</p>
                                <p><strong>Contact:</strong>{{ page.contact }}</p>
                                <p><strong>Categorie:</strong> {{ page.categoriep }}</p>
                                <p><strong>Localisation:</strong> {{ page.localisation }}</p>
                                <p class="truncate-text"><strong>Description:</strong> {{ page.description }}</p>
                                <p><strong>Ouverture:</strong> {{ page.ouverture ? page.ouverture|date('H:i:s') : '' }}</p>
                                <a href="{{ path ('app_page_show_user', {'idP': page.idP}) }}" class="btn btn-primary" style="background-color: #F99D45; color: white; border-color: #F99D45; border-radius: 30px; height:40px ; width:100px ; margin-right: -70px; margin-left: -3px;">Voir Plus</a>

                            </div>
                        </div>
                    </div><!-- End testimonial item -->
                    {% else %}
                    <div class="swiper-slide">
                        <div class="testimonial-wrap">
                            <div class="testimonial-item">
                                <h3>No Testimonials Available</h3>
                            </div>
                        </div>
                    </div><!-- End testimonial item -->
                    {% endfor %}

                </div>
                <div class="swiper-pagination"></div>
            </div>

        </div>

    </section><!-- /Testimonials Section -->

</main>

<style>
    .truncate-text {
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }
</style>




 <footer id="footer" class="footer position-relative">

   

    <div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1">CityVibe</strong> <span>Tous droits réservés</span></p>
     
    </div></footer>
   <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
  
  <!-- Preloader -->
  <div id="preloader"></div>    <!-- Vendor JS Files -->
    <script src="{{ asset ('assets/vendor/bootstrap/js/bootstrap.bundle.min.js')}}"></script>
    <script src="{{ asset ('assets/vendor/php-email-form/validate.js')}}"></script>
    <script src="{{ asset ('assets/vendor/aos/aos.js')}}"></script>
    <script src="{{ asset ('assets/vendor/glightbox/js/glightbox.min.js')}}"></script>
    <script src="{{ asset ('assets/vendor/purecounter/purecounter_vanilla.js')}}"></script>
    <script src="{{ asset ('assets/vendor/swiper/swiper-bundle.min.js')}}"></script>

    <!-- Main JS File -->
    <script src="{{ asset ('assets/js/main.js')}}"></script>
{% endblock %}
