{% extends 'baseSuperAdmin.html.twig' %}

{% block title %}Publication{% endblock %}

{% block body %}
<body class="">
<div class="sidebar" data-color="orange" style="width: 200px;">
      
      <div class="logo d-flex flex-row align-items-center">
        <img src="{{asset ('assets_admin/img/logo-removebg-preview.png')}}" alt="" width="70" height="70">
        <a style="color: white;"> CityVibe </a>
      </div>
      <div >
        <ul class="nav">
  <div class="logo d-flex flex-row align-items-center">
        <li>
            <img src="{{asset ('assets_admin/img/page-daccueil.png')}}" alt="" width="20" height="20">
            <a href="{{ path ('app_Super_admin') }}"> Accueil</a>
        </li>
    </div>
    <div class="logo d-flex flex-row align-items-center">
        <li>
            <img src="{{asset ('assets_admin/img/page-de-texte.png')}}" alt="" width="20" height="20">
            <a href="#" onclick="toggleSubMenu('lieuSubMenu')"> Lieu <span class="sub-menu-indicator">▼</span></a>
            <ul id="lieuSubMenu" class="sub-menu" style="display: none;"> <!-- Nested unordered list for sub-items with initial display set to none -->
                <li><a href="{{ path ('app_Super_admin_page') }}">► Page</a></li>
                <li><a href="{{ path ('app_Super_admin_publication') }}" class="active">► Publication</a></li>
            </ul>
        </li>
    </div>
</ul>

<script>
    function toggleSubMenu(subMenuId) {
        var subMenu = document.getElementById(subMenuId);
        subMenu.style.display = subMenu.style.display === 'none' ? 'block' : 'none';
    }
</script>

<style>
    .sub-menu-indicator {
        margin-left: 5px; /* Adjust margin as needed */
        font-size: 10px; /* Adjust font size as needed */
    }
    .sub-menu li {
        list-style: none; /* Remove bullet points */
    }
</style>



    </div>
  </div>
    <div class="col">
        <a href="{{ path ('app_publication_Super_admin_new', {'idPP':publications[0].pageRelation.idP}) }}" class="btn" style="background-color: #f96332; border-radius: 30px; color: white; display: inline-block; margin-left : 1040px; width : 250px;">Créer une nouvelle publication</a>
    </div>
    <div class="main-panel" id="main-panel" style="margin-left: 200px;">
        <nav class="navbar navbar-expand-lg navbar-transparent bg-primary navbar-absolute">
            <div class="container-fluid">
                <div class="navbar-wrapper">
                    <!-- Navbar content -->
                </div>
            </div>
        </nav>
        <main class="main">
         </br>
           <div class="container section-title" data-aos="fade-up" style="text-align: left;">
                <p style="font-weight: bold; font-size: 20px; margin-bottom: 20px;">
                    <span style="border-bottom: 3px solid orange; padding-bottom: 5px;"> &nbsp; &nbsp;Bienvenue a nos publications &nbsp; &nbsp;   </span>
                </p>
            </div>
            <div class="container-fluid">
                </br>
                <div class="row justify-content-center">
                    {% for Superadmin in publications %}
                    <div class="col-md-4 mb-4">
                        <div class="card" style="border-radius: 30px;">
                            <div class="card-body">
                                <p class="card-text"><b>Nom Page : </b>{{ Superadmin.pageRelation.nom}}</p>
                                <p class="card-text"><b>Nom : </b>{{ Superadmin.nomp }}</p>
                                <p class="card-text" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;"><b>Description:</b> {{ Superadmin.description }}</p>
                                <img src="{{ asset(Superadmin.image) }}" alt="Superadmin Image" class="card-img-top" width="" height="200" style="border-radius: 27px;"></br>
                                <div class="d-flex justify-content-between align-items-center" style="margin-bottom: 20px;">
    <form action="{{ path('app_Super_admin_delete', {'id_P': Superadmin.id_P}) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this item?')" class="d-inline">
        <input type="hidden" name="_method" value="DELETE">
        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ Superadmin.id_P) }}">
        <button type="submit" class="btn btn-secondary" style="background-color: #f96332; color: white; border-color: #f96332; border-radius: 30px;">Supprimer</button>
    </form>

    <a href="{{ path ('app_Super_admin_edit', {'id_P': Superadmin.id_P}) }}" class="btn btn-primary" style="background-color: #f96332; color: white; border-color: #f96332; border-radius: 30px; height: 40px; width: 100px;">Modifier</a>

    <a href="{{ path ('app_Super_admin_show', {'id_P': Superadmin.id_P}) }}" class="btn btn-primary" style="background-color: #f96332; color: white; border-color: #f96332; border-radius: 30px; height: 40px; width: 100px;">Plus</a>
</div>

                            </div>
                        </div>
                    </div>
                    {% else %}
                    <p>No records found.</p>
                    {% endfor %}
                </div>
            </div>
        </main>
              <footer id="footer" class="footer position-relative">
            <div class="container copyright text-center mt-4">
                <p>© <span>Copyright</span> <strong class="px-1">CityVibe</strong> <span>Tous droits réservés</span></p>
            </div>
        </footer>


    </div>

    <!--   Core JS Files   -->
    <script src="../assets/js/core/jquery.min.js"></script>
    <script src="../assets/js/core/popper.min.js"></script>
    <script src="../assets/js/core/bootstrap.min.js"></script>
    <script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
    <!--  Google Maps Plugin    -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
    <!-- Chart JS -->
    <script src="../assets/js/plugins/chartjs.min.js"></script>
    <!--  Notifications Plugin    -->
    <script src="../assets/js/plugins/bootstrap-notify.js"></script>
    <!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="../assets/js/now-ui-dashboard.min.js?v=1.5.0" type="text/javascript"></script><!-- Now Ui Dashboard DEMO methods, don't include it in your project! -->
    <script src="../assets/demo/demo.js"></script>

    <script>
        function toggleSubMenu(subMenuId) {
            var subMenu = document.getElementById(subMenuId);
            subMenu.style.display = subMenu.style.display === 'none' ? 'block' : 'none';
        }
    </script>

    <style>
        .sub-menu-indicator {
            margin-left: 5px;
            font-size: 10px;
        }

        .sub-menu li {
            list-style: none;
        }
    </style>
<script>
    var swiper = new Swiper('.swiper', {
        loop: true,
        speed: 600,
        autoplay: {
            delay: 5000
        },
        slidesPerView: 'auto',
        direction: 'horizontal',
        pagination: {
            el: '.swiper-pagination',
            type: 'bullets',
            clickable: true
        },
        breakpoints: {
            320: {
                slidesPerView: 1,
                spaceBetween: 40
            },
            1200: {
                slidesPerView: 2,
                spaceBetween: 20
            }
        }
    });
</script>
</body>

{% endblock %}
